{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport axios from 'axios';\nimport { Field, Formik } from 'formik';\nimport { useState } from 'react';\nimport { GoTriangleRight } from 'react-icons/go';\nimport { toast } from 'react-toastify';\nimport style from '../styles/FormSection.module.sass';\nimport InputField from './fields/inputField';\nimport FormModal from './modals/FormModal';\n\nconst FormSection = () => {\n  // Form success modal\n  const {\n    0: openFormModal,\n    1: setFormModalOpen\n  } = useState(false);\n\n  const onOpenFormModal = () => setFormModalOpen(true);\n\n  const onCloseFormModal = () => setFormModalOpen(false);\n\n  const sendForm = (values, {\n    resetForm\n  }) => {\n    const {\n      name,\n      email,\n      phone\n    } = values;\n    axios.post('http://localhost:8289/v1/consult', {\n      name,\n      email,\n      phone\n    }).then(res => {\n      if (res.data.message === 'ok') {\n        resetForm({});\n        console.log(res);\n        onOpenFormModal();\n        console.log(values);\n      }\n    }).then(() => {\n      setTimeout(() => {\n        onCloseFormModal();\n      }, 3000);\n    }).catch(function (error) {\n      console.log(error);\n      toast.error('Something went wrong please try later');\n    });\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Formik, {\n      onSubmit: sendForm,\n      initialValues: {\n        name: '',\n        email: '',\n        phone: ''\n      },\n      children: ({\n        handleSubmit\n      }) => /*#__PURE__*/_jsxs(\"form\", {\n        onSubmit: handleSubmit,\n        className: style.form,\n        children: [/*#__PURE__*/_jsx(\"span\", {\n          className: \"title_label\",\n          children: \"LET\\u2019S GET STARTED\"\n        }), /*#__PURE__*/_jsx(\"h2\", {\n          className: style.h2,\n          children: \"Get A Free Consultation.\"\n        }), /*#__PURE__*/_jsx(\"p\", {\n          children: \"The best ideas start from the brif. Let us to know what you need and we will realise it in sucsessfull product.\"\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: style.form_items,\n          children: [/*#__PURE__*/_jsx(Field, {\n            name: \"name\",\n            className: \"input\",\n            placeholder: \"Name\",\n            type: \"text\",\n            component: InputField,\n            required: true\n          }), /*#__PURE__*/_jsx(Field, {\n            name: \"email\",\n            className: \"input\",\n            placeholder: \"Email\",\n            type: \"email\",\n            component: InputField,\n            required: true\n          }), /*#__PURE__*/_jsx(Field, {\n            name: \"phone\",\n            className: \"input\",\n            placeholder: \"Phone Number\",\n            type: \"tel\",\n            component: InputField,\n            required: true\n          }), /*#__PURE__*/_jsx(\"button\", {\n            type: \"submit\",\n            className: 'btn',\n            children: /*#__PURE__*/_jsxs(\"span\", {\n              children: [\"Submit \", /*#__PURE__*/_jsx(GoTriangleRight, {})]\n            })\n          })]\n        })]\n      })\n    }), /*#__PURE__*/_jsx(FormModal, {\n      onCloseFormModal: onCloseFormModal,\n      openFormModal: openFormModal\n    })]\n  });\n};\n\nexport default FormSection;","map":null,"metadata":{},"sourceType":"module"}